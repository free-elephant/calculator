if (beforetext[beforetext.length - confirm - 1] === ']') {

var find_same_count_bracket = 0;
while (1) {
if (beforetext[beforetext.length - confirm - 1- find_same_count_bracket] === '[') {
before_bracket=before_bracket+1
if(before_bracket===after_bracket){
break;
}
}
else if(beforetext[beforetext.length - confirm - 1- find_same_count_bracket] === ']'){
after_bracket=after_bracket+1
}
} //대괄호 개수가 같을 때
var temp=beforetext.length - confirm - 1;
temp=beforetext.length - confirm - 1- find_same_count_bracket
beforetext[temp]
}